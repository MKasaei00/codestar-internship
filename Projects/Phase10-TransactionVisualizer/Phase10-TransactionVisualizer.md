<div dir="rtl" align='justify'>

# فاز ده: مصورسازی تراکنش‌ها

در این فاز قراراست که یک فایل حاوی دیتای تراکنش‌ها را از کاربربگیریم و بتوانیم تراکنش‌ها را در چهره یک گراف به کاربر نشان‌دهیم. لطفا اگر معادلی بهتر از -مصورسازی- برای عبارت visualize می‌شناسید ما را با خبرکنید :)

<br> 


## 1- چرا به صورت گراف تراکنش‌ها را نشان دهیم؟
وقتی تحلیل‌گر روی داد‌ه‌های یک مساله خاص تمرکز می‌کند، نیاز دارد بتواند اطلاعات را در کنار یکدیگر ببیند، روابط بینشان را درک کند و کوئری‌ها را به راحتی روی آن‌ها پیاده‌سازی کند. گراف و ویژگی‌هایش، بهترین ساختار برای رسیدن به این خواسته‌هاست.

## 2- ساختار داده و تعریف اجزای آن به عنوان بخش‌های گراف

ما در این پروژه با داده‌های فرضی تراکنش‌های بانکی سر و کار داریم. دیتابیس در ادامه به صورت یک فایل csv باید به برنامه داده‌شود. این داده‌ها شامل تعداد زیادی رکورد است. (رکورد، معادل سطر دیتابیس است.) هر رکورد دیتابیس شامل اطلاعات زیر است:

1. شماره حساب مبدا
1.  شماره حساب مقصد
1. مبلغ تراکنش
1.  تاریخ تراکنش
1. شماره مرجع تراکنش

در شکل زیر یک نمونه از دیتابیس حاوی اطلاعات تراکنش را مشاهده می‌کنید.

<p align="center" style="width:70% text-align:center;" ><img src="dataBase.jpg" alt="Logo"  align="cneter"  style="center"></p>

در این فاز از پروژه ما قرار می‌گذاریم تا به هریک از این 5 مورد بالا به طور خاصی نگاه کنیم. در دنیای پروژه ما  هرچیزی به شکل یکی از این سه مورد زیر تعریف خواهد شد.

1. نود گراف
1. لینک گراف
1. مشخصه نود و لینک موجود در گراف

در این فاز قرار داد می کنیم که حساب مبدا و حساب مقصد به صورت نود‌های گراف و تراکنش‌ بین‌ آن‌ها به صورت لینک گراف نمایش‌داده شود. هم‌چنین مقدار تراکنش‌ها و تاریخ تاریخ تراکنش به عنوان مشخصه لینک تراکنش باشند.


چیزی که در اینجا درباره آن صبحت کردیم، یعنی طرز نگرش به پدیده‌های پروژه و تعریف آن‌ها به صورت خاص، با اصطلاح آنتولوژی شناخته می‌شود. در فازهای بعدی خیلی بیشتر با آنتولوژی آشنا خواهیم شد.


## 3- ایمپورت دیتاست
دراین فاز یک فایل csv
سبک، حاوی تعدادی تراکنش با ساختار یاد شده در اختیار شما قرار می‌گیرد که بتوانید کار خود را روی آن امتحان کنید. هم‌چنین یک دیتاست دیگر حاوی اطلاعات حساب‌ها در اخیتارتان قرار می‌گیرد.
می‌توانید این فایل‌ها را که زیپ شده‌اند از لینک‌ زیر دریافت کنید.
<br>

<a href="TestDB.zip" download>Click to Download</a>

## 4- Visualize

با آموزش‌هایی که در ادامه داک آورده می‌شود، باید بتوانیم هر سطر موجود در دیتابیس را که معادل یک تراکنش بانکی است، به صورت یک دمبل نشان دهیم. با پیاده‌سازی این ویژگی، امکان فراهم‌کردن بسیاری از فیچرهای پرکاربرد و ارزشمند  فراهم می‌شود.
<br>
در واقع ما سعی داریم چیزی شبیه به عکس زیر را پیاده‌سازی کنیم.
<p align="center" style="width:70% text-align:center;" ><img src="damble.jpg" alt="Logo"  align="cneter"  style="center"></p>

لازم به ذکر است که کادر موجود در بالای لینک، نشان‌ دهنده‌ی لیست مشخصه‌هایی است که باید برای لینک آورده شود. 
<br>


برای مثال در عکس زیر بخشی از نرم‌افزار تحلیلی شرکت DataWalk را مشاهده می‌کنید.

<p align="center" style="width:70% text-align:center;" ><img src="datawalk.png" alt="Logo"  align="cneter"  style="center"></p>

در این سیستم، شرکت ترجیح داده به جای یک دایره به عنوان نود گراف از آیکون مخصوص استفاده‌کند. هم‌چنین تراکنش بین دو حساب مختلف به صورت لینک جهت‌دار آبی‌رنگ نشان داده‌شده‌است. این عکس چیزی فراتر از خواسته‌ این فاز را پیاده کرده و فقط یک تراکنش ساده نیست. هم‌چنین از کل مشخصه‌های لینک تراکنش، ترجیح داده‌اند فقط مقدار تراکنش را نشان‌دهند. هم‌چنین به‌جای نوشتن شماره حساب روی نود‌ها، اسم مالک حساب را آورده‌اند.
<br><Br>
پیشنهاد می‌شود شماره حساب روی نود گراف نمایش داده شود تا در فاز  بعدی کار راحت‌تر باشد.
<br><Br>
دست شما در پیاده‌سازی UI 
باز است و با رعایت چارچوپ اولیه، می‌توانید از شکل و رنگ‌های مختلف در طراحی المان‌ها استفاده‌کنید. 
ما با پیاده‌سازی این فاز، بعد از این که توانستیم هر رکورد را به صورت یک دمبل نشان بدهیم، آماده می‌شویم تا در آینده برنامه را مجهز به ابزارهای تحلیل کنیم.


## 7- فیچر نمایش اطلاعات حساب 
بعد از این که دنبل یک تراکنش روی بوم گراف ظاهر شد، کاربری که از برنامه استفاده می‌کند باید این امکان را داشته‌باشد که با کلیک روی نود گراف،اطلاعات حساب را ببیند. برای این کار پیشنهاد می‌شود که بعد از کلیک، اطلاعات حساب از دیتاست دوم برداشته شود و در  یک منو از سمت راست، کنار صفحه نمایان شود.



## 8- کار با کتاب‌‌خانه OGMA
در بخش پایانی این فاز قرار است با OGMA کار کنیم.
این بخش برای آشنایی بیشتر است و کاری با دیتاست‌های قبلی نداریم. 
<br>
بدین‌صورت که به صورت رندوم گراف ایجاد می‌کنیم و با ابزار موجود دراین فریم ورک، گراف را layout می‌کنیم. 
توضیحات فنی پیاده‌سازی این فاز در ادامه داک آورده می‌شود.

# پیاده‌سازی

<div style="line-height: normal; overflow: hidden">
                    <h1><strong>Graph visualization</strong></h1>

<h3 dir="rtl"><span style="font-size:18px">لایبرری های زیادی برای نمایش گراف وجود دارد، شما میتوانید برای مطالعه بیشتر به این <a href="https://medium.com/@Elise_Deux/the-list-of-graph-visualization-libraries-7a7b89aab6a6">صفحه</a> بروید.&nbsp;<br>
طبق تحقیقی که تیم فرانت ما داشته بهترین لایبرری موجود برای پیاده سازی اهداف تیم ستاره لایبرری <strong>ogma </strong>است. برای آشنایی بیشتر با&nbsp;این محصول میتوانید به این <a href="https://doc.linkurio.us/ogma/latest/quickstart.html">سایت</a> مراجعه کنید.</span></h3>

<h3 dir="rtl"><span style="font-size:24px"><img src="https://i1.wp.com/linkurio.us/wp-content/uploads/2016/10/Ogma-example-customization.png?ssl=1" style="height:351px; width:800px"></span></h3>

<h3 dir="rtl"><span style="font-size:18px">تصویر بالا یک گراف کوچک است که به کمک اگما نمایش داده شده است. شاید برای شما سوال پیش بیاید که نمایش گراف چه اهمیتی دارد، و چرا نرم افزار هایی نظیر <strong>Gephi </strong>برای زیبا کشیدن گراف بوجود آمده است؟(توصیه میشود این نرم افزار را نصب کنید و چیدمان های مختلف آن را امتحا کنید از جمله چیدمان های circular آن را که پیچیدگی زیادی دارند.)</span></h3>

<h3 dir="rtl"><img alt="Features" src="https://gephi.org/images/screenshots/preview1.png"></h3>

<h3 dir="rtl"><span style="font-size:18px">چیدمانی خوب است که بتواند راس های مرتبط را کنار هم و راس های نامرتبط از هم را با فاصله از هم قرار دهد، تا بتوان با یک نگاه اطلاعات زیادی بدست آورد. به طور مثال وقتی شما دو راس خاص را در نظر دارید و میخواهید ببینید این دو راس چه میزان به هم مرتبط اند کافی است یک چیدمان مناسب استفاده کنید، محصول ستاره هم از چند چیدمان مهم استفاده میکند.</span></h3>

<h3 dir="rtl"><span style="font-size:18px">در ابتدا <strong>ogma </strong>را داخل انگولار امتحان کنید و برای پیاده سازی آن به providing-ogma مراجعه کنید.</span></h3>


<a href="providing-ogma.md" download>لینک  providing-ogma</a>

<h3 dir="rtl"><span style="font-size:18px">سپس یک گراف دلخواه را در آن نمایش دهید و توصیه میکنم برای اطمینان از صحت پیاده سازی خود یک <strong>Button </strong>بگذارید که با فشرده شدن آن یک گراف رندوم جدید در صفحه گراف بوجود بیاید.</span></h3>

<h3 dir="rtl"><span style="font-size:18px"><strong>پیشنهاد</strong>: برای زیبا تر شدن المنت های <strong>html </strong>خود و زیبایی <strong>template </strong>خود از لایبرری های css مانند <strong>semantic ui</strong> , <strong>bootstrapt </strong>استفاده کنید و با توجه به سادگی که <strong>semantic </strong>دارد، آن را بیشتر توصیه میکنیم.</span></h3>

<h3 dir="rtl"><span style="font-size:18px">برای اضافه شدن این لایبرری ها به پروژه انگولار خود <strong>cdn </strong>آن را از اینترنت بگیرید و در <strong>head </strong>فایل index.html پروژه انگولار خود قرار دهید.</span></h3>

<h3 dir="rtl"><span style="font-size:18px">به طور مثال <strong>cdn </strong>سمنتیک این است:</span></h3>

<h3>&nbsp;</h3>

<h4>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>
    <br>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <br>
  <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
</h4>

<h3 dir="rtl"><span style="font-size:18px">شما باید بعد از پیاده سازی اگما بتوانید کارهای زیر را انجام دهید:</span></h3>

<h3 dir="rtl"><span style="font-size:18px">1- روی یک راس&nbsp;کلیک کرده و حالت <strong>selected </strong>آن را سویچ کنید.</span></h3>

<h3 dir="rtl"><span style="font-size:18px">2- با موس بتوانید تمامی رئوس <strong>selected </strong>را جا به جا کنید.</span></h3>

<h3 dir="rtl">&nbsp;</h3>

<h3 dir="rtl"><span style="font-size:18px">در فاز های بعدی شما باید بتوانید کار های انیمیشنی بیشتری در <strong>ogma </strong>انجام دهید مثلا رنگ یال هارا تغییر دهید و در آن ها <strong>flow </strong>ایجاد کنید و یا در راس ها <strong>pulse </strong>ایجاد کنید و بهتر است برای یادگیری آن ها در این فاز با <strong>api&nbsp;</strong>های اگما آشنا شوید، به طور مثال توابع <strong>setAttributes </strong>میتوانید نقش مهمی در این انیمیشن ها داشته باشد که شما میتوانید جزئیات آن را در این <a href="https://doc.linkurio.us/ogma/latest/api.html"><strong>صفحه </strong></a>دنبال کنید.</span></h3>

<h3 dir="rtl"><span style="font-size:18px"><strong>پیشنهاد:&nbsp;</strong>زمان هایی که میخواهید به کاربر پیامی نشان بدهید و یا مقداری را از او بگیرید میتوانید از&nbsp;لایبرری Sweet alert 2 استفاده کنید، این لایبرری قدرتمند با فیچر های زیادی که در اختیار شما قرار میدهد کار را بسیار ساده میکند.</span></h3>

<h3 dir="rtl"><span style="font-size:18px">در نهایت شما باید بتوانید اطلاعات گراف را به کمک <strong>HttpClient </strong>از سرور <strong>backend </strong>بگییرید و با اگما نمایش بدهید، پس حواستان به نحوه پیاده سازی باشد تا بعدا&nbsp;به مشکل نخورید. در فاز های بعدی هم سعی میکنم لایبرری های دیگرری را که به نظرم مفید هستند معرفی کنم.</span></h3>
 </div>
